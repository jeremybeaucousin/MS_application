import javax.swing.JFileChooser;

import java.io.File;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import Model.Document;
import Model.TheMovieDB;
import Model.Video;
import base.Connexion;

public class Main{
	
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		int cpt=0;
		
		JFileChooser chooser = new JFileChooser();
		
		ArrayList<File> test = null;
		
		chooser.setDialogTitle("Sélectionner votre dossier de vidéo");
		chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
		chooser.setAcceptAllFileFilterUsed(false);
		
		if(chooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {
			chooser.setCurrentDirectory(chooser.getSelectedFile());
			test = Document.FolderScannerVideo(chooser.getCurrentDirectory());
		}
		for(int ii = 0; ii < test.size(); ii++) {
			System.out.println(Document.getDocumentName(test.get(ii).getName()));
			System.out.println(TheMovieDB.searchMovie(Document.getDocumentName(test.get(ii).getName())));
			/*if(TheMovieDB.searchMovie(Document.getDocumentName(test.get(ii).getName())) < 0 ) {
				cpt++;
			}*/
		}
		System.out.println("total de film : " + test.size());
		System.out.println("total reconnus : " + (test.size() - cpt));
		System.out.println("total reconnus : " + (cpt));
		
		/*Connexion cn=new Connexion();
		cn.connect();
		
		ResultSet rs=cn.select("SELECT * FROM nationality");
		try {
			while(rs.next())
			{
				String leType=rs.getString("nationality_wording");
				System.out.println(leType);
			}
		}
		catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		cn.close();*/
		//request exemple http://api.themoviedb.org/3/search/movie?api_key=1acc7c1593ee8145d2d390f1d419a573&query=shrek
		//request exemple http://api.themoviedb.org/3/movie/15357?api_key=1acc7c1593ee8145d2d390f1d419a573&
		//http://d3gtl9l2a4fn1j.cloudfront.net/t/p/w185/eDUy9octF4WpC9IIfxek0ZZPMhT.jpg
	}

	/* (non-Java-doc)
	 * @see java.lang.Object#Object()
	 */
	public Main() {
		super();
	}
}